FROM alpine:3.20

# Minimal runtime deps for the compiled binary
RUN apk add --no-cache \
    ca-certificates \
    libstdc++ \
    libgcc \
  && adduser -D -u 10001 appuser

# Copy the prebuilt binary produced by GoReleaser
COPY traefiktop /usr/local/bin/traefiktop

# Non-root execution and proper TTY colors
USER 10001:10001
ENV TERM=xterm-256color

ENTRYPOINT ["/usr/local/bin/traefiktop"]

